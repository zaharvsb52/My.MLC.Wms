<Activity mc:Ignorable="sap sap2010 sads" x:Class="MLC.Wms.Workflows.Wf_Data.VISITOR_ARRIVED"
 xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities"
 xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 xmlns:mca="clr-namespace:Microsoft.CSharp.Activities;assembly=System.Activities"
 xmlns:mwac="clr-namespace:MLC.WF.Activities.Communication;assembly=MLC.WF.Activities"
 xmlns:mwad="clr-namespace:MLC.WF.Activities.DataAccess;assembly=MLC.WF.Activities"
 xmlns:mwam="clr-namespace:MLC.WF.Activities.Manage;assembly=MLC.WF.Activities"
 xmlns:mwc="clr-namespace:MLC.WF.Core;assembly=MLC.WF.Core"
 xmlns:mwcm="clr-namespace:MLC.WF.Core.Models;assembly=MLC.WF.Core"
 xmlns:mwme="clr-namespace:MLC.Wms.Model.Entities;assembly=MLC.Wms.Model"
 xmlns:mwwac="clr-namespace:MLC.Wms.WF.Activities.Communication;assembly=MLC.Wms.WF.Activities"
 xmlns:n="clr-namespace:NHibernate;assembly=NHibernate"
 xmlns:s="clr-namespace:System;assembly=mscorlib"
 xmlns:sads="http://schemas.microsoft.com/netfx/2010/xaml/activities/debugger"
 xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation"
 xmlns:sap2010="http://schemas.microsoft.com/netfx/2010/xaml/activities/presentation"
 xmlns:scg="clr-namespace:System.Collections.Generic;assembly=mscorlib"
 xmlns:sco="clr-namespace:System.Collections.ObjectModel;assembly=mscorlib"
 xmlns:sle="clr-namespace:System.Linq.Expressions;assembly=System.Core"
 xmlns:wcmb="clr-namespace:WebClient.Common.Metamodel.Bindings;assembly=WebClient.Common"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <x:Members>
    <x:Property Name="EntityId" Type="InArgument(x:String)" />
    <x:Property Name="ViewKind" Type="InArgument(x:String)" />
  </x:Members>
  <sap2010:ExpressionActivityEditor.ExpressionActivityEditor>C#</sap2010:ExpressionActivityEditor.ExpressionActivityEditor>
  <sap2010:WorkflowViewState.IdRef>MLC.Wms.Workflows.Wf_Data.VISITOR_ARRIVED_1</sap2010:WorkflowViewState.IdRef>
  <TextExpression.NamespacesForImplementation>
    <sco:Collection x:TypeArguments="x:String">
      <x:String>System</x:String>
      <x:String>System.Collections.Generic</x:String>
      <x:String>System.Data</x:String>
      <x:String>System.Linq</x:String>
      <x:String>System.Text</x:String>
      <x:String>MLC.WF.Core.Models</x:String>
      <x:String>WebClient.Common.Metamodel.Bindings</x:String>
      <x:String>MLC.Wms.Model.Entities</x:String>
      <x:String>MLC.WF.Core</x:String>
      <x:String>NHibernate</x:String>
      <x:String>MLC.WF.Core.Client.Protocol</x:String>
      <x:String>NHibernate.Linq</x:String>
    </sco:Collection>
  </TextExpression.NamespacesForImplementation>
  <TextExpression.ReferencesForImplementation>
    <sco:Collection x:TypeArguments="AssemblyReference">
      <AssemblyReference>Iesi.Collections</AssemblyReference>
      <AssemblyReference>log4net</AssemblyReference>
      <AssemblyReference>Microsoft.Activities.Extensions</AssemblyReference>
      <AssemblyReference>Microsoft.CSharp</AssemblyReference>
      <AssemblyReference>Microsoft.Practices.Unity</AssemblyReference>
      <AssemblyReference>Microsoft.Practices.Unity.Configuration</AssemblyReference>
      <AssemblyReference>Microsoft.Practices.Unity.RegistrationByConvention</AssemblyReference>
      <AssemblyReference>MLC.WF.Activities</AssemblyReference>
      <AssemblyReference>MLC.WF.Core</AssemblyReference>
      <AssemblyReference>Newtonsoft.Json</AssemblyReference>
      <AssemblyReference>NHibernate</AssemblyReference>
      <AssemblyReference>PresentationCore</AssemblyReference>
      <AssemblyReference>PresentationFramework</AssemblyReference>
      <AssemblyReference>Serialize.Linq</AssemblyReference>
      <AssemblyReference>System</AssemblyReference>
      <AssemblyReference>System.Activities</AssemblyReference>
      <AssemblyReference>System.Activities.DurableInstancing</AssemblyReference>
      <AssemblyReference>System.Activities.Presentation</AssemblyReference>
      <AssemblyReference>System.Configuration</AssemblyReference>
      <AssemblyReference>System.Core</AssemblyReference>
      <AssemblyReference>System.Data</AssemblyReference>
      <AssemblyReference>System.Drawing</AssemblyReference>
      <AssemblyReference>System.Linq.Dynamic</AssemblyReference>
      <AssemblyReference>System.Runtime.DurableInstancing</AssemblyReference>
      <AssemblyReference>System.Runtime.Serialization</AssemblyReference>
      <AssemblyReference>System.ServiceModel</AssemblyReference>
      <AssemblyReference>System.ServiceModel.Activities</AssemblyReference>
      <AssemblyReference>System.Web</AssemblyReference>
      <AssemblyReference>System.Xaml</AssemblyReference>
      <AssemblyReference>System.Xml</AssemblyReference>
      <AssemblyReference>System.Xml.Linq</AssemblyReference>
      <AssemblyReference>WebClient.Abac</AssemblyReference>
      <AssemblyReference>WebClient.Common</AssemblyReference>
      <AssemblyReference>WindowsBase</AssemblyReference>
      <AssemblyReference>MLC.Wms.Api</AssemblyReference>
      <AssemblyReference>MLC.Wms.Bootstrap</AssemblyReference>
      <AssemblyReference>MLC.Wms.Common</AssemblyReference>
      <AssemblyReference>MLC.Wms.Integration.Common</AssemblyReference>
      <AssemblyReference>MLC.Wms.Model</AssemblyReference>
      <AssemblyReference>MLC.Wms.WF.Activities</AssemblyReference>
      <AssemblyReference>mscorlib</AssemblyReference>
      <AssemblyReference>MLC.Wms.Workflows</AssemblyReference>
    </sco:Collection>
  </TextExpression.ReferencesForImplementation>
  <Flowchart DisplayName="Прибыл на склад" sap2010:WorkflowViewState.IdRef="Flowchart_1">
    <Flowchart.Variables>
      <Variable x:TypeArguments="x:String" Name="actionCode" />
      <Variable x:TypeArguments="mwcm:WfDataModel" Name="formData" />
      <Variable x:TypeArguments="x:Int32" Name="itId" />
      <Variable x:TypeArguments="x:String" Name="messageText" />
      <Variable x:TypeArguments="x:String" Default="Прибыл на склад" Name="bpName" />
      <Variable x:TypeArguments="mwcm:WfMetadataModel" Name="formActionModel" />
    </Flowchart.Variables>
    <Flowchart.StartNode>
      <FlowStep x:Name="__ReferenceID47" sap2010:WorkflowViewState.IdRef="FlowStep_9">
        <Assign DisplayName="Получаем Id внутреннего рейса" sap2010:WorkflowViewState.IdRef="Assign_1">
          <Assign.To>
            <OutArgument x:TypeArguments="x:Int32">
              <mca:CSharpReference x:TypeArguments="x:Int32">itId</mca:CSharpReference>
            </OutArgument>
          </Assign.To>
          <Assign.Value>
            <InArgument x:TypeArguments="x:Int32">
              <mca:CSharpValue x:TypeArguments="x:Int32">int.Parse(EntityId)</mca:CSharpValue>
            </InArgument>
          </Assign.Value>
        </Assign>
        <FlowStep.Next>
          <FlowStep x:Name="__ReferenceID43" sap2010:WorkflowViewState.IdRef="FlowStep_1">
            <Flowchart DisplayName="Проверки и подготовка" sap2010:WorkflowViewState.IdRef="Flowchart_2">
              <Flowchart.Variables>
                <Variable x:TypeArguments="wcmb:BindingsCreator" Name="bindingsCreator" />
              </Flowchart.Variables>
              <Flowchart.StartNode>
                <FlowStep x:Name="__ReferenceID24" sap2010:WorkflowViewState.IdRef="FlowStep_3">
                  <mwam:DependencyResolver x:TypeArguments="wcmb:BindingsCreator" sap2010:WorkflowViewState.IdRef="DependencyResolver`1_1">
                    <mwam:DependencyResolver.Result>
                      <OutArgument x:TypeArguments="wcmb:BindingsCreator">
                        <mca:CSharpReference x:TypeArguments="wcmb:BindingsCreator">bindingsCreator</mca:CSharpReference>
                      </OutArgument>
                    </mwam:DependencyResolver.Result>
                  </mwam:DependencyResolver>
                  <FlowStep.Next>
                    <FlowStep x:Name="__ReferenceID25" sap2010:WorkflowViewState.IdRef="FlowStep_4">
                      <mwad:SessionScope DisplayName="Сессия" sap2010:WorkflowViewState.IdRef="SessionScope_1">
                        <Flowchart DisplayName="Действия в сессии" sap2010:WorkflowViewState.IdRef="Flowchart_3">
                          <Flowchart.Variables>
                            <Variable x:TypeArguments="mwme:YInternalTraffic" Name="internalTraffic" />
                            <Variable x:TypeArguments="mwc:SerializableDictionary(x:String, x:Object)" Name="wfDataObject">
                              <Variable.Default>
                                <mca:CSharpValue x:TypeArguments="mwc:SerializableDictionary(x:String, x:Object)">new SerializableDictionary&lt;string, object&gt;()</mca:CSharpValue>
                              </Variable.Default>
                            </Variable>
                            <Variable x:TypeArguments="n:ISession" Name="session" />
                          </Flowchart.Variables>
                          <Flowchart.StartNode>
                            <FlowStep x:Name="__ReferenceID20" sap2010:WorkflowViewState.IdRef="FlowStep_16">
                              <Assign DisplayName="Чистим сообщение" sap2010:WorkflowViewState.IdRef="Assign_3">
                                <Assign.To>
                                  <OutArgument x:TypeArguments="x:String">
                                    <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                  </OutArgument>
                                </Assign.To>
                                <Assign.Value>
                                  <InArgument x:TypeArguments="x:String">
                                    <mca:CSharpValue x:TypeArguments="x:String">string.Empty</mca:CSharpValue>
                                  </InArgument>
                                </Assign.Value>
                              </Assign>
                              <FlowStep.Next>
                                <FlowStep x:Name="__ReferenceID11" sap2010:WorkflowViewState.IdRef="FlowStep_15">
                                  <mwad:EntityLinqQuery x:TypeArguments="mwme:YInternalTraffic" sap2010:WorkflowViewState.IdRef="EntityLinqQuery`1_1" IsNeedCheckExistence="True">
                                    <mwad:EntityLinqQuery.Result>
                                      <OutArgument x:TypeArguments="mwme:YInternalTraffic">
                                        <mca:CSharpReference x:TypeArguments="mwme:YInternalTraffic">internalTraffic</mca:CSharpReference>
                                      </OutArgument>
                                    </mwad:EntityLinqQuery.Result>
                                    <InArgument x:TypeArguments="sle:Expression(s:Func(mwme:YInternalTraffic, x:Boolean))">
                                      <mca:CSharpValue x:TypeArguments="sle:Expression(s:Func(mwme:YInternalTraffic, x:Boolean))">i =&gt; i.InternalTrafficID == itId</mca:CSharpValue>
                                    </InArgument>
                                  </mwad:EntityLinqQuery>
                                  <FlowStep.Next>
                                    <FlowSwitch x:TypeArguments="x:String" x:Name="__ReferenceID12" DisplayName="Status?" sap2010:WorkflowViewState.IdRef="FlowSwitch`1_2">
                                      <FlowSwitch.Default>
                                        <FlowStep x:Name="__ReferenceID13" sap2010:WorkflowViewState.IdRef="FlowStep_10">
                                          <Assign DisplayName="&quot;Статус внутреннего рейса не распознан&quot;" sap2010:WorkflowViewState.IdRef="Assign_4">
                                            <Assign.To>
                                              <OutArgument x:TypeArguments="x:String">
                                                <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                              </OutArgument>
                                            </Assign.To>
                                            <Assign.Value>
                                              <InArgument x:TypeArguments="x:String">Статус внутреннего рейса не распознан</InArgument>
                                            </Assign.Value>
                                          </Assign>
                                        </FlowStep>
                                      </FlowSwitch.Default>
                                      <FlowSwitch.Expression>
                                        <mca:CSharpValue x:TypeArguments="x:String">internalTraffic.Status.StatusCode</mca:CSharpValue>
                                      </FlowSwitch.Expression>
                                      <FlowStep x:Key="VISITOR_ARRIVED" x:Name="__ReferenceID14" sap2010:WorkflowViewState.IdRef="FlowStep_11">
                                        <Assign DisplayName="VISITOR_ARRIVED" sap2010:WorkflowViewState.IdRef="Assign_5">
                                          <Assign.To>
                                            <OutArgument x:TypeArguments="x:String">
                                              <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                            </OutArgument>
                                          </Assign.To>
                                          <Assign.Value>
                                            <InArgument x:TypeArguments="x:String">ТС уже прибыло</InArgument>
                                          </Assign.Value>
                                        </Assign>
                                      </FlowStep>
                                      <FlowStep x:Key="VISITOR_DEPARTED" x:Name="__ReferenceID15" sap2010:WorkflowViewState.IdRef="FlowStep_12">
                                        <Assign DisplayName="VISITOR_DEPARTED" sap2010:WorkflowViewState.IdRef="Assign_6">
                                          <Assign.To>
                                            <OutArgument x:TypeArguments="x:String">
                                              <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                            </OutArgument>
                                          </Assign.To>
                                          <Assign.Value>
                                            <InArgument x:TypeArguments="x:String">ТС уже убыло</InArgument>
                                          </Assign.Value>
                                        </Assign>
                                      </FlowStep>
                                      <FlowDecision x:Key="VISITOR_PLAN" x:Name="__ReferenceID16" DisplayName="ExtTrafficVerified" sap2010:WorkflowViewState.IdRef="FlowDecision_3">
                                        <FlowDecision.Condition>
                                          <mca:CSharpValue x:TypeArguments="x:Boolean">internalTraffic.PurposeVisit.PurposeVisitCode == "Loading" &amp;&amp; !(internalTraffic.ExternalTraffic.ExternalTrafficVerified != null &amp;&amp; internalTraffic.ExternalTraffic.ExternalTrafficVerified == true)</mca:CSharpValue>
                                        </FlowDecision.Condition>
                                        <FlowDecision.True>
                                          <FlowStep x:Name="__ReferenceID17" sap2010:WorkflowViewState.IdRef="FlowStep_13">
                                            <Assign DisplayName="&quot;Рейс не верифицирован&quot;" sap2010:WorkflowViewState.IdRef="Assign_7">
                                              <Assign.To>
                                                <OutArgument x:TypeArguments="x:String">
                                                  <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                                </OutArgument>
                                              </Assign.To>
                                              <Assign.Value>
                                                <InArgument x:TypeArguments="x:String">Рейс не верифицирован</InArgument>
                                              </Assign.Value>
                                            </Assign>
                                          </FlowStep>
                                        </FlowDecision.True>
                                        <FlowDecision.False>
                                          <FlowStep x:Name="__ReferenceID21" sap2010:WorkflowViewState.IdRef="FlowStep_51">
                                            <mwad:SessionGet sap2010:WorkflowViewState.IdRef="SessionGet_2">
                                              <mwad:SessionGet.Session>
                                                <OutArgument x:TypeArguments="n:ISession">
                                                  <mca:CSharpReference x:TypeArguments="n:ISession">session</mca:CSharpReference>
                                                </OutArgument>
                                              </mwad:SessionGet.Session>
                                            </mwad:SessionGet>
                                            <FlowStep.Next>
                                              <FlowSwitch x:TypeArguments="x:String" x:Name="__ReferenceID18" DisplayName="Цель визита" sap2010:WorkflowViewState.IdRef="FlowSwitch`1_1">
                                                <FlowSwitch.Default>
                                                  <FlowStep x:Name="__ReferenceID19" sap2010:WorkflowViewState.IdRef="FlowStep_14">
                                                    <Assign DisplayName="&quot;Цель визита не соответствует требуемой&quot;" sap2010:WorkflowViewState.IdRef="Assign_8">
                                                      <Assign.To>
                                                        <OutArgument x:TypeArguments="x:String">
                                                          <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                                        </OutArgument>
                                                      </Assign.To>
                                                      <Assign.Value>
                                                        <InArgument x:TypeArguments="x:String">Цель визита не соответствует требуемой</InArgument>
                                                      </Assign.Value>
                                                    </Assign>
                                                  </FlowStep>
                                                </FlowSwitch.Default>
                                                <FlowSwitch.Expression>
                                                  <mca:CSharpValue x:TypeArguments="x:String">internalTraffic.PurposeVisit.PurposeVisitCode</mca:CSharpValue>
                                                </FlowSwitch.Expression>
                                                <FlowStep x:Key="Unloading" x:Name="__ReferenceID22" sap2010:WorkflowViewState.IdRef="FlowStep_46">
                                                  <Flowchart DisplayName="Unloading" sap2010:WorkflowViewState.IdRef="Flowchart_7">
                                                    <Flowchart.Variables>
                                                      <Variable x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)" Name="cargoIwbList" />
                                                    </Flowchart.Variables>
                                                    <Flowchart.StartNode>
                                                      <FlowStep x:Name="__ReferenceID4" sap2010:WorkflowViewState.IdRef="FlowStep_45">
                                                        <Assign DisplayName="cargoIwbList" sap2010:WorkflowViewState.IdRef="Assign_26">
                                                          <Assign.To>
                                                            <OutArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">
                                                              <mca:CSharpReference x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">cargoIwbList</mca:CSharpReference>
                                                            </OutArgument>
                                                          </Assign.To>
                                                          <Assign.Value>
                                                            <InArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">
                                                              <mca:CSharpValue x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">session.Query&lt;WmsCargoIWB&gt;().Where(i =&gt; i.InternalTraffic.InternalTrafficID == itId)</mca:CSharpValue>
                                                            </InArgument>
                                                          </Assign.Value>
                                                        </Assign>
                                                        <FlowStep.Next>
                                                          <FlowDecision x:Name="__ReferenceID3" DisplayName="Есть связь с WmsCargoIWB" sap2010:WorkflowViewState.IdRef="FlowDecision_12">
                                                            <FlowDecision.Condition>
                                                              <mca:CSharpValue x:TypeArguments="x:Boolean">cargoIwbList.Count() == 0</mca:CSharpValue>
                                                            </FlowDecision.Condition>
                                                            <FlowDecision.True>
                                                              <FlowStep x:Name="__ReferenceID2" sap2010:WorkflowViewState.IdRef="FlowStep_43">
                                                                <Assign DisplayName="&quot;Нет связи с грузом на приход&quot;" sap2010:WorkflowViewState.IdRef="Assign_27">
                                                                  <Assign.To>
                                                                    <OutArgument x:TypeArguments="x:String">
                                                                      <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                                                    </OutArgument>
                                                                  </Assign.To>
                                                                  <Assign.Value>
                                                                    <InArgument x:TypeArguments="x:String">Нет связи с грузом на приход</InArgument>
                                                                  </Assign.Value>
                                                                </Assign>
                                                              </FlowStep>
                                                            </FlowDecision.True>
                                                            <FlowDecision.False>
                                                              <FlowDecision x:Name="__ReferenceID1" DisplayName="CargoIWBLoadBegin" sap2010:WorkflowViewState.IdRef="FlowDecision_11">
                                                                <FlowDecision.Condition>
                                                                  <mca:CSharpValue x:TypeArguments="x:Boolean">cargoIwbList.Any(i =&gt; i.CargoIWBLoadBegin != null)</mca:CSharpValue>
                                                                </FlowDecision.Condition>
                                                                <FlowDecision.True>
                                                                  <FlowStep x:Name="__ReferenceID0" sap2010:WorkflowViewState.IdRef="FlowStep_44">
                                                                    <Assign DisplayName="&quot;Некорректное время начала разгрузки в следующих грузах: [Список грузов]&quot;" sap2010:WorkflowViewState.IdRef="Assign_28">
                                                                      <Assign.To>
                                                                        <OutArgument x:TypeArguments="x:String">
                                                                          <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                                                        </OutArgument>
                                                                      </Assign.To>
                                                                      <Assign.Value>
                                                                        <InArgument x:TypeArguments="x:String">
                                                                          <mca:CSharpValue x:TypeArguments="x:String">string.Format("Некорректное время начала разгрузки в следующих грузах: {0}", string.Join(", ", cargoIwbList.Where(i =&gt; i.CargoIWBLoadBegin != null).Select(i =&gt; i.CargoIWBID)))</mca:CSharpValue>
                                                                        </InArgument>
                                                                      </Assign.Value>
                                                                    </Assign>
                                                                  </FlowStep>
                                                                </FlowDecision.True>
                                                              </FlowDecision>
                                                            </FlowDecision.False>
                                                          </FlowDecision>
                                                        </FlowStep.Next>
                                                      </FlowStep>
                                                    </Flowchart.StartNode>
                                                    <x:Reference>__ReferenceID0</x:Reference>
                                                    <x:Reference>__ReferenceID1</x:Reference>
                                                    <x:Reference>__ReferenceID2</x:Reference>
                                                    <x:Reference>__ReferenceID3</x:Reference>
                                                    <x:Reference>__ReferenceID4</x:Reference>
                                                  </Flowchart>
                                                  <FlowStep.Next>
                                                    <FlowDecision x:Name="__ReferenceID10" sap2010:WorkflowViewState.IdRef="FlowDecision_13">
                                                      <FlowDecision.Condition>
                                                        <mca:CSharpValue x:TypeArguments="x:Boolean">!string.IsNullOrEmpty(messageText)</mca:CSharpValue>
                                                      </FlowDecision.Condition>
                                                    </FlowDecision>
                                                  </FlowStep.Next>
                                                </FlowStep>
                                                <FlowStep x:Key="Loading" x:Name="__ReferenceID23" sap2010:WorkflowViewState.IdRef="FlowStep_50">
                                                  <Flowchart DisplayName="Loading" sap2010:WorkflowViewState.IdRef="Flowchart_8">
                                                    <Flowchart.Variables>
                                                      <Variable x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)" Name="cargoOwbList" />
                                                    </Flowchart.Variables>
                                                    <Flowchart.StartNode>
                                                      <FlowStep x:Name="__ReferenceID9" sap2010:WorkflowViewState.IdRef="FlowStep_49">
                                                        <Assign DisplayName="cargoOwbList" sap2010:WorkflowViewState.IdRef="Assign_29">
                                                          <Assign.To>
                                                            <OutArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">
                                                              <mca:CSharpReference x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">cargoOwbList</mca:CSharpReference>
                                                            </OutArgument>
                                                          </Assign.To>
                                                          <Assign.Value>
                                                            <InArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">
                                                              <mca:CSharpValue x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">session.Query&lt;WmsCargoOWB&gt;().Where(i =&gt; i.InternalTraffic.InternalTrafficID == itId)</mca:CSharpValue>
                                                            </InArgument>
                                                          </Assign.Value>
                                                        </Assign>
                                                        <FlowStep.Next>
                                                          <FlowDecision x:Name="__ReferenceID8" DisplayName="Есть связь с WmsCargoOWB" sap2010:WorkflowViewState.IdRef="FlowDecision_15">
                                                            <FlowDecision.Condition>
                                                              <mca:CSharpValue x:TypeArguments="x:Boolean">cargoOwbList.Count() == 0</mca:CSharpValue>
                                                            </FlowDecision.Condition>
                                                            <FlowDecision.True>
                                                              <FlowStep x:Name="__ReferenceID7" sap2010:WorkflowViewState.IdRef="FlowStep_47">
                                                                <Assign DisplayName="&quot;Нет связи с грузом на выдачу&quot;" sap2010:WorkflowViewState.IdRef="Assign_30">
                                                                  <Assign.To>
                                                                    <OutArgument x:TypeArguments="x:String">
                                                                      <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                                                    </OutArgument>
                                                                  </Assign.To>
                                                                  <Assign.Value>
                                                                    <InArgument x:TypeArguments="x:String">Нет связи с грузом на выдачу</InArgument>
                                                                  </Assign.Value>
                                                                </Assign>
                                                              </FlowStep>
                                                            </FlowDecision.True>
                                                            <FlowDecision.False>
                                                              <FlowDecision x:Name="__ReferenceID6" DisplayName="CargoOWBLoadBegin" sap2010:WorkflowViewState.IdRef="FlowDecision_14">
                                                                <FlowDecision.Condition>
                                                                  <mca:CSharpValue x:TypeArguments="x:Boolean">cargoOwbList.Any(i =&gt; i.CargoOWBLoadBegin != null)</mca:CSharpValue>
                                                                </FlowDecision.Condition>
                                                                <FlowDecision.True>
                                                                  <FlowStep x:Name="__ReferenceID5" sap2010:WorkflowViewState.IdRef="FlowStep_48">
                                                                    <Assign DisplayName="&quot;Некорректное время начала погрузки в следующих грузах: [Список грузов]&quot;" sap2010:WorkflowViewState.IdRef="Assign_31">
                                                                      <Assign.To>
                                                                        <OutArgument x:TypeArguments="x:String">
                                                                          <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                                                        </OutArgument>
                                                                      </Assign.To>
                                                                      <Assign.Value>
                                                                        <InArgument x:TypeArguments="x:String">
                                                                          <mca:CSharpValue x:TypeArguments="x:String">string.Format("Некорректное время начала погрузки в следующих грузах: {0}", string.Join(", ", cargoOwbList.Where(i =&gt; i.CargoOWBLoadBegin != null).Select(i =&gt; i.CargoOWBID)))</mca:CSharpValue>
                                                                        </InArgument>
                                                                      </Assign.Value>
                                                                    </Assign>
                                                                  </FlowStep>
                                                                </FlowDecision.True>
                                                              </FlowDecision>
                                                            </FlowDecision.False>
                                                          </FlowDecision>
                                                        </FlowStep.Next>
                                                      </FlowStep>
                                                    </Flowchart.StartNode>
                                                    <x:Reference>__ReferenceID5</x:Reference>
                                                    <x:Reference>__ReferenceID6</x:Reference>
                                                    <x:Reference>__ReferenceID7</x:Reference>
                                                    <x:Reference>__ReferenceID8</x:Reference>
                                                    <x:Reference>__ReferenceID9</x:Reference>
                                                  </Flowchart>
                                                  <FlowStep.Next>
                                                    <x:Reference>__ReferenceID10</x:Reference>
                                                  </FlowStep.Next>
                                                </FlowStep>
                                              </FlowSwitch>
                                            </FlowStep.Next>
                                          </FlowStep>
                                        </FlowDecision.False>
                                      </FlowDecision>
                                    </FlowSwitch>
                                  </FlowStep.Next>
                                </FlowStep>
                              </FlowStep.Next>
                            </FlowStep>
                          </Flowchart.StartNode>
                          <x:Reference>__ReferenceID11</x:Reference>
                          <x:Reference>__ReferenceID12</x:Reference>
                          <x:Reference>__ReferenceID13</x:Reference>
                          <x:Reference>__ReferenceID14</x:Reference>
                          <x:Reference>__ReferenceID15</x:Reference>
                          <x:Reference>__ReferenceID16</x:Reference>
                          <x:Reference>__ReferenceID17</x:Reference>
                          <x:Reference>__ReferenceID18</x:Reference>
                          <x:Reference>__ReferenceID19</x:Reference>
                          <x:Reference>__ReferenceID20</x:Reference>
                          <FlowStep sap2010:WorkflowViewState.IdRef="FlowStep_23">
                            <Assign DisplayName="Готовим данные" sap2010:WorkflowViewState.IdRef="Assign_13">
                              <Assign.To>
                                <OutArgument x:TypeArguments="mwcm:WfDataModel">
                                  <mca:CSharpReference x:TypeArguments="mwcm:WfDataModel">formData</mca:CSharpReference>
                                </OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="mwcm:WfDataModel">
                                  <mca:CSharpValue x:TypeArguments="mwcm:WfDataModel" xml:space="preserve">new WfDataModel
            {
                {
                    "ITStruct",
                    new List&lt;WfDataObject&gt;()
                    {                     
                        new WfDataObject
                        {
                            {"InternalTrafficID", internalTraffic.InternalTrafficID},
                            {"ExternalTraffic", new WfEntityReference() {
                                Id = internalTraffic.ExternalTraffic.ExternalTrafficID, 
                                EntityType = "YExternalTraffic", 
                                Values = new WfEntityReferenceFieldValue[] {
                                    new WfEntityReferenceFieldValue() { Name = "ExternalTrafficPassNumber", Value = internalTraffic.ExternalTraffic.ExternalTrafficPassNumber }
                                }
                            }},
                            {"Partner", new WfEntityReference() {
                                Id = internalTraffic.Partner.PartnerID, 
                                EntityType = "WmsPartner", 
                                Values = new WfEntityReferenceFieldValue[] {
                                    new WfEntityReferenceFieldValue() { Name = "PartnerName", Value = internalTraffic.Partner.PartnerName }
                                }
                            }},
                            {"Status", new WfEntityReference() {
                                Id = internalTraffic.Status.StatusCode, 
                                EntityType = "WmsStatus", 
                                Values = new WfEntityReferenceFieldValue[] {
                                    new WfEntityReferenceFieldValue() { Name = "StatusName", Value = internalTraffic.Status.StatusName }
                                }
                            }},
                            {"Warehouse", new WfEntityReference() {
                                Id = internalTraffic.Warehouse.WarehouseCode, 
                                EntityType = "WmsWarehouse", 
                                Values = new WfEntityReferenceFieldValue[] {
                                    new WfEntityReferenceFieldValue() { Name = "WarehouseName", Value = internalTraffic.Warehouse.WarehouseName }
                                }
                            }},
                            {"Gate", internalTraffic.Gate == null ? null : new WfEntityReference() {
                                Id = internalTraffic.Gate.GateCode, 
                                EntityType = "WmsGate", 
                                Values = new WfEntityReferenceFieldValue[] {
                                    new WfEntityReferenceFieldValue() { Name = "GateName", Value = internalTraffic.Gate.GateName }
                                }
                            }},
                            {"PurposeVisit", new WfEntityReference() {
                                Id = internalTraffic.PurposeVisit.PurposeVisitID, 
                                EntityType = "YPurposeVisit", 
                                Values = new WfEntityReferenceFieldValue[] {
                                    new WfEntityReferenceFieldValue() { Name = "PurposeVisitName", Value = internalTraffic.PurposeVisit.PurposeVisitName }
                                }
                            }},
                            {"InternalTrafficFactArrived", internalTraffic.InternalTrafficFactArrived},
                            {"InternalTrafficFactDeparted", internalTraffic.InternalTrafficFactDeparted},
                            {"InternalTrafficOrder", internalTraffic.InternalTrafficOrder}
                        }
                    }
                }
            }</mca:CSharpValue>
                                </InArgument>
                              </Assign.Value>
                            </Assign>
                          </FlowStep>
                          <x:Reference>__ReferenceID21</x:Reference>
                          <x:Reference>__ReferenceID22</x:Reference>
                          <x:Reference>__ReferenceID10</x:Reference>
                          <x:Reference>__ReferenceID23</x:Reference>
                        </Flowchart>
                      </mwad:SessionScope>
                    </FlowStep>
                  </FlowStep.Next>
                </FlowStep>
              </Flowchart.StartNode>
              <FlowStep sap2010:WorkflowViewState.IdRef="FlowStep_2">
                <Assign sap2010:WorkflowViewState.IdRef="Assign_2">
                  <Assign.To>
                    <OutArgument x:TypeArguments="mwcm:WfMetadataModel">
                      <mca:CSharpReference x:TypeArguments="mwcm:WfMetadataModel">formActionModel</mca:CSharpReference>
                    </OutArgument>
                  </Assign.To>
                  <Assign.Value>
                    <InArgument x:TypeArguments="mwcm:WfMetadataModel">
                      <mca:CSharpValue x:TypeArguments="mwcm:WfMetadataModel" xml:space="preserve">new WfMetadataModel
            {
                //ControllerClassName = "MLC.oms.omsOrder.controller.OrderWfAddressCard",
                ViewClassName = "WebClient.common.controls.AutoCard",
                ViewConfig = new SerializableDictionary&lt;string, object&gt;
                {
                    {"title", "Внутренний рейс "+itId}
                },
                Structures = new List&lt;WfStructure&gt;()
                {
                    new WfStructure
                    {
                        Name = "ITStruct",
                        EntityType = "YInternalTraffic",
                        FieldBindings = bindingsCreator
                          .With&lt;YInternalTraffic&gt;()
                          //.CreateOrReplaceForCard()
                          .CreateOrReplace(i =&gt; i.InternalTrafficID)
                          .CreateOrReplace(i =&gt; i.ExternalTraffic)
                          .CreateOrReplace(i =&gt; i.Status)
                          .CreateOrReplace(i =&gt; i.Partner)
                          .CreateOrReplace(i =&gt; i.PurposeVisit)
                          .CreateOrReplace(i =&gt; i.Warehouse)
                          .CreateOrReplace(i =&gt; i.Gate)
                          .CreateOrReplace(i =&gt; i.InternalTrafficFactArrived)
                          .CreateOrReplace(i =&gt; i.InternalTrafficFactDeparted)
                          .CreateOrReplace(i =&gt; i.InternalTrafficOrder)
                          .List()
                          .Select(i =&gt; new WfFieldBinding(i))
                          .Cast&lt;IFieldBinding&gt;()
                          .ToList()
                    }
                }
            }</mca:CSharpValue>
                    </InArgument>
                  </Assign.Value>
                </Assign>
              </FlowStep>
              <x:Reference>__ReferenceID24</x:Reference>
              <x:Reference>__ReferenceID25</x:Reference>
            </Flowchart>
            <FlowStep.Next>
              <FlowDecision x:Name="__ReferenceID44" sap2010:WorkflowViewState.IdRef="FlowDecision_1">
                <FlowDecision.Condition>
                  <mca:CSharpValue x:TypeArguments="x:Boolean">!string.IsNullOrEmpty(messageText)</mca:CSharpValue>
                </FlowDecision.Condition>
                <FlowDecision.True>
                  <FlowStep x:Name="__ReferenceID42" sap2010:WorkflowViewState.IdRef="FlowStep_24">
                    <mwwac:MessageBox sap2010:WorkflowViewState.IdRef="MessageBox_1">
                      <mwwac:MessageBox.ActionCode>
                        <OutArgument x:TypeArguments="x:String">
                          <mca:CSharpReference x:TypeArguments="x:String">actionCode</mca:CSharpReference>
                        </OutArgument>
                      </mwwac:MessageBox.ActionCode>
                      <mwwac:MessageBox.Actions>
                        <InArgument x:TypeArguments="mwcm:WfActionsModel">
                          <mca:CSharpValue x:TypeArguments="mwcm:WfActionsModel">null</mca:CSharpValue>
                        </InArgument>
                      </mwwac:MessageBox.Actions>
                      <mwwac:MessageBox.Message>
                        <InArgument x:TypeArguments="x:String">
                          <mca:CSharpValue x:TypeArguments="x:String">messageText</mca:CSharpValue>
                        </InArgument>
                      </mwwac:MessageBox.Message>
                      <mwwac:MessageBox.Title>
                        <InArgument x:TypeArguments="x:String">
                          <mca:CSharpValue x:TypeArguments="x:String">bpName</mca:CSharpValue>
                        </InArgument>
                      </mwwac:MessageBox.Title>
                    </mwwac:MessageBox>
                    <FlowStep.Next>
                      <FlowStep x:Name="__ReferenceID45" sap2010:WorkflowViewState.IdRef="FlowStep_5">
                        <mwam:Exit sap2010:WorkflowViewState.IdRef="Exit_1" />
                      </FlowStep>
                    </FlowStep.Next>
                  </FlowStep>
                </FlowDecision.True>
                <FlowDecision.False>
                  <FlowStep x:Name="__ReferenceID46" sap2010:WorkflowViewState.IdRef="FlowStep_7">
                    <Flowchart DisplayName="Применяем изменения" sap2010:WorkflowViewState.IdRef="Flowchart_4">
                      <Flowchart.StartNode>
                        <FlowStep x:Name="__ReferenceID41" sap2010:WorkflowViewState.IdRef="FlowStep_29">
                          <mwad:SessionScope sap2010:WorkflowViewState.IdRef="SessionScope_2">
                            <Flowchart DisplayName="Действия в сессии" sap2010:WorkflowViewState.IdRef="Flowchart_5">
                              <Flowchart.Variables>
                                <Variable x:TypeArguments="n:ISession" Name="session" />
                                <Variable x:TypeArguments="mwme:YInternalTraffic" Name="internalTraffic" />
                                <Variable x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)" Name="cargoIwbList" />
                                <Variable x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)" Name="cargoOwbList" />
                                <Variable x:TypeArguments="s:DateTime" Name="pTime">
                                  <Variable.Default>
                                    <mca:CSharpValue x:TypeArguments="s:DateTime">DateTime.Now</mca:CSharpValue>
                                  </Variable.Default>
                                </Variable>
                              </Flowchart.Variables>
                              <Flowchart.StartNode>
                                <FlowStep x:Name="__ReferenceID34" sap2010:WorkflowViewState.IdRef="FlowStep_26">
                                  <mwad:SessionGet sap2010:WorkflowViewState.IdRef="SessionGet_1">
                                    <mwad:SessionGet.Session>
                                      <OutArgument x:TypeArguments="n:ISession">
                                        <mca:CSharpReference x:TypeArguments="n:ISession">session</mca:CSharpReference>
                                      </OutArgument>
                                    </mwad:SessionGet.Session>
                                  </mwad:SessionGet>
                                  <FlowStep.Next>
                                    <FlowStep x:Name="__ReferenceID32" sap2010:WorkflowViewState.IdRef="FlowStep_28">
                                      <Assign DisplayName="get internalTraffic" sap2010:WorkflowViewState.IdRef="Assign_16">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="mwme:YInternalTraffic">
                                            <mca:CSharpReference x:TypeArguments="mwme:YInternalTraffic">internalTraffic</mca:CSharpReference>
                                          </OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="mwme:YInternalTraffic">
                                            <mca:CSharpValue x:TypeArguments="mwme:YInternalTraffic">session.Query&lt;YInternalTraffic&gt;().Single(i =&gt; i.InternalTrafficID == itId)</mca:CSharpValue>
                                          </InArgument>
                                        </Assign.Value>
                                      </Assign>
                                      <FlowStep.Next>
                                        <FlowDecision x:Name="__ReferenceID33" DisplayName="purpose" sap2010:WorkflowViewState.IdRef="FlowDecision_8">
                                          <FlowDecision.Condition>
                                            <mca:CSharpValue x:TypeArguments="x:Boolean">internalTraffic.PurposeVisit.PurposeVisitCode == "Unloading"</mca:CSharpValue>
                                          </FlowDecision.Condition>
                                          <FlowDecision.True>
                                            <FlowStep x:Name="__ReferenceID31" sap2010:WorkflowViewState.IdRef="FlowStep_27">
                                              <Assign DisplayName="get cargoIwbList" sap2010:WorkflowViewState.IdRef="Assign_15">
                                                <Assign.To>
                                                  <OutArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">
                                                    <mca:CSharpReference x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">cargoIwbList</mca:CSharpReference>
                                                  </OutArgument>
                                                </Assign.To>
                                                <Assign.Value>
                                                  <InArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">
                                                    <mca:CSharpValue x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">session.Query&lt;WmsCargoIWB&gt;().Where(i =&gt; i.InternalTraffic.InternalTrafficID == itId)</mca:CSharpValue>
                                                  </InArgument>
                                                </Assign.Value>
                                              </Assign>
                                              <FlowStep.Next>
                                                <FlowStep x:Name="__ReferenceID36" sap2010:WorkflowViewState.IdRef="FlowStep_33">
                                                  <ForEach x:TypeArguments="mwme:WmsCargoIWB" DisplayName="ForEach&lt;WmsCargoIWB&gt;" sap2010:WorkflowViewState.IdRef="ForEach`1_1">
                                                    <ForEach.Values>
                                                      <InArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">
                                                        <mca:CSharpValue x:TypeArguments="scg:IEnumerable(mwme:WmsCargoIWB)">cargoIwbList</mca:CSharpValue>
                                                      </InArgument>
                                                    </ForEach.Values>
                                                    <ActivityAction x:TypeArguments="mwme:WmsCargoIWB">
                                                      <ActivityAction.Argument>
                                                        <DelegateInArgument x:TypeArguments="mwme:WmsCargoIWB" Name="cargo" />
                                                      </ActivityAction.Argument>
                                                      <Assign DisplayName="loadBegin" sap2010:WorkflowViewState.IdRef="Assign_17">
                                                        <Assign.To>
                                                          <OutArgument x:TypeArguments="s:Nullable(s:DateTime)">
                                                            <mca:CSharpReference x:TypeArguments="s:Nullable(s:DateTime)">cargo.CargoIWBLoadBegin</mca:CSharpReference>
                                                          </OutArgument>
                                                        </Assign.To>
                                                        <Assign.Value>
                                                          <InArgument x:TypeArguments="s:Nullable(s:DateTime)">
                                                            <mca:CSharpValue x:TypeArguments="s:Nullable(s:DateTime)">pTime</mca:CSharpValue>
                                                          </InArgument>
                                                        </Assign.Value>
                                                      </Assign>
                                                    </ActivityAction>
                                                  </ForEach>
                                                  <FlowStep.Next>
                                                    <FlowStep x:Name="__ReferenceID30" sap2010:WorkflowViewState.IdRef="FlowStep_32">
                                                      <Assign DisplayName="factArrived" sap2010:WorkflowViewState.IdRef="Assign_18">
                                                        <Assign.To>
                                                          <OutArgument x:TypeArguments="s:Nullable(s:DateTime)">
                                                            <mca:CSharpReference x:TypeArguments="s:Nullable(s:DateTime)">internalTraffic.InternalTrafficFactArrived</mca:CSharpReference>
                                                          </OutArgument>
                                                        </Assign.To>
                                                        <Assign.Value>
                                                          <InArgument x:TypeArguments="s:Nullable(s:DateTime)">
                                                            <mca:CSharpValue x:TypeArguments="s:Nullable(s:DateTime)">pTime</mca:CSharpValue>
                                                          </InArgument>
                                                        </Assign.Value>
                                                      </Assign>
                                                      <FlowStep.Next>
                                                        <FlowStep x:Name="__ReferenceID38" sap2010:WorkflowViewState.IdRef="FlowStep_31">
                                                          <Assign DisplayName="internal.Status" sap2010:WorkflowViewState.IdRef="Assign_19">
                                                            <Assign.To>
                                                              <OutArgument x:TypeArguments="mwme:YInternalTrafficStatus">
                                                                <mca:CSharpReference x:TypeArguments="mwme:YInternalTrafficStatus">internalTraffic.Status</mca:CSharpReference>
                                                              </OutArgument>
                                                            </Assign.To>
                                                            <Assign.Value>
                                                              <InArgument x:TypeArguments="mwme:YInternalTrafficStatus">
                                                                <mca:CSharpValue x:TypeArguments="mwme:YInternalTrafficStatus">session.Query&lt;YInternalTrafficStatus&gt;().Single(i =&gt; i.StatusCode == "VISITOR_ARRIVED")</mca:CSharpValue>
                                                              </InArgument>
                                                            </Assign.Value>
                                                          </Assign>
                                                          <FlowStep.Next>
                                                            <FlowStep x:Name="__ReferenceID39" sap2010:WorkflowViewState.IdRef="FlowStep_30">
                                                              <Assign DisplayName="externalStatus" sap2010:WorkflowViewState.IdRef="Assign_20">
                                                                <Assign.To>
                                                                  <OutArgument x:TypeArguments="mwme:YExternalTrafficStatus">
                                                                    <mca:CSharpReference x:TypeArguments="mwme:YExternalTrafficStatus">internalTraffic.ExternalTraffic.Status</mca:CSharpReference>
                                                                  </OutArgument>
                                                                </Assign.To>
                                                                <Assign.Value>
                                                                  <InArgument x:TypeArguments="mwme:YExternalTrafficStatus">
                                                                    <mca:CSharpValue x:TypeArguments="mwme:YExternalTrafficStatus">session.Query&lt;YExternalTrafficStatus&gt;().Single(i =&gt; i.StatusCode == "CAR_TRANSITTERRITORY")</mca:CSharpValue>
                                                                  </InArgument>
                                                                </Assign.Value>
                                                              </Assign>
                                                              <FlowStep.Next>
                                                                <FlowStep x:Name="__ReferenceID40" sap2010:WorkflowViewState.IdRef="FlowStep_40">
                                                                  <Flowchart DisplayName="Событие" sap2010:WorkflowViewState.IdRef="Flowchart_6">
                                                                    <Flowchart.Variables>
                                                                      <Variable x:TypeArguments="mwme:WmsEventHeader" Name="eventHeader" />
                                                                      <Variable x:TypeArguments="mwme:wmsEventDetailCAR" Name="eventDetail" />
                                                                    </Flowchart.Variables>
                                                                    <Flowchart.StartNode>
                                                                      <FlowStep x:Name="__ReferenceID27" sap2010:WorkflowViewState.IdRef="FlowStep_39">
                                                                        <Assign sap2010:WorkflowViewState.IdRef="Assign_23">
                                                                          <Assign.To>
                                                                            <OutArgument x:TypeArguments="mwme:WmsEventHeader">
                                                                              <mca:CSharpReference x:TypeArguments="mwme:WmsEventHeader">eventHeader</mca:CSharpReference>
                                                                            </OutArgument>
                                                                          </Assign.To>
                                                                          <Assign.Value>
                                                                            <InArgument x:TypeArguments="mwme:WmsEventHeader">
                                                                              <mca:CSharpValue x:TypeArguments="mwme:WmsEventHeader" xml:space="preserve">new WmsEventHeader()
            {
                ClientType = session.Query&lt;SysClientType&gt;().Single(i =&gt; i.ClientTypeCode == "WEB"),
                EventKind = session.Query&lt;WmsEventKind&gt;().Single(i =&gt; i.EventKindCode == "CAR_INTERNALTRAFFIC_ARRIVED"),
                Operation = session.Query&lt;BillOperation&gt;().Single(i =&gt; i.OperationCode == "OP_INTERNALTRAFFIC_ACTIVATED"),
                EventHeaderStartTime = DateTime.Now,
                EventHeaderEndTime = DateTime.Now,
                //TODO:
                Partner = internalTraffic.Partner,
                EventHeaderOperationBusiness = session.Query&lt;SYSENUM_OPERATION_BUSINESS&gt;().Single(i =&gt;
                    i.EnumGroup == "OPERATION" &amp;&amp;
                    i.EnumKey == "BUSINESS" &amp;&amp;
                    i.EnumValue == "UNKNOWN"),
                EventHeaderInstance = "DEFAULT",
                EventHeaderBillStatus = session.Query&lt;EventHeaderBillStatus&gt;().Single(i =&gt; i.StatusCode == "EVENT_BILL_OPEN"),
                Status = session.Query&lt;WmsEventHeaderStatus&gt;().Single(i =&gt; i.StatusCode == "EVENT_CREATED"),
                Process = null,
                Work = null,
                Working = null
            }</mca:CSharpValue>
                                                                            </InArgument>
                                                                          </Assign.Value>
                                                                        </Assign>
                                                                        <FlowStep.Next>
                                                                          <FlowStep x:Name="__ReferenceID26" sap2010:WorkflowViewState.IdRef="FlowStep_38">
                                                                            <mwad:EntityAdd Entities="{x:Null}" sap2010:WorkflowViewState.IdRef="EntityAdd_1">
                                                                              <mwad:EntityAdd.Entity>
                                                                                <InArgument x:TypeArguments="x:Object">
                                                                                  <mca:CSharpValue x:TypeArguments="x:Object">eventHeader</mca:CSharpValue>
                                                                                </InArgument>
                                                                              </mwad:EntityAdd.Entity>
                                                                            </mwad:EntityAdd>
                                                                            <FlowStep.Next>
                                                                              <FlowStep x:Name="__ReferenceID28" sap2010:WorkflowViewState.IdRef="FlowStep_37">
                                                                                <Assign sap2010:WorkflowViewState.IdRef="Assign_24">
                                                                                  <Assign.To>
                                                                                    <OutArgument x:TypeArguments="mwme:wmsEventDetailCAR">
                                                                                      <mca:CSharpReference x:TypeArguments="mwme:wmsEventDetailCAR">eventDetail</mca:CSharpReference>
                                                                                    </OutArgument>
                                                                                  </Assign.To>
                                                                                  <Assign.Value>
                                                                                    <InArgument x:TypeArguments="mwme:wmsEventDetailCAR">
                                                                                      <mca:CSharpValue x:TypeArguments="mwme:wmsEventDetailCAR" xml:space="preserve">new wmsEventDetailCAR()
            {
                EventHeader = eventHeader,
                InternalTraffic = internalTraffic,
                ExternalTraffic = internalTraffic.ExternalTraffic,
                ExternalTrafficDriver_r = internalTraffic.ExternalTraffic.ExternalTrafficDriver,
                Vehicle = internalTraffic.ExternalTraffic.Vehicle,
                VehicleRN_r = internalTraffic.ExternalTraffic.Vehicle.VehicleRN
            }</mca:CSharpValue>
                                                                                    </InArgument>
                                                                                  </Assign.Value>
                                                                                </Assign>
                                                                                <FlowStep.Next>
                                                                                  <FlowStep x:Name="__ReferenceID29" sap2010:WorkflowViewState.IdRef="FlowStep_36">
                                                                                    <mwad:EntityAdd Entities="{x:Null}" sap2010:WorkflowViewState.IdRef="EntityAdd_2">
                                                                                      <mwad:EntityAdd.Entity>
                                                                                        <InArgument x:TypeArguments="x:Object">
                                                                                          <mca:CSharpValue x:TypeArguments="x:Object">eventDetail</mca:CSharpValue>
                                                                                        </InArgument>
                                                                                      </mwad:EntityAdd.Entity>
                                                                                    </mwad:EntityAdd>
                                                                                  </FlowStep>
                                                                                </FlowStep.Next>
                                                                              </FlowStep>
                                                                            </FlowStep.Next>
                                                                          </FlowStep>
                                                                        </FlowStep.Next>
                                                                      </FlowStep>
                                                                    </Flowchart.StartNode>
                                                                    <x:Reference>__ReferenceID26</x:Reference>
                                                                    <x:Reference>__ReferenceID27</x:Reference>
                                                                    <x:Reference>__ReferenceID28</x:Reference>
                                                                    <x:Reference>__ReferenceID29</x:Reference>
                                                                  </Flowchart>
                                                                </FlowStep>
                                                              </FlowStep.Next>
                                                            </FlowStep>
                                                          </FlowStep.Next>
                                                        </FlowStep>
                                                      </FlowStep.Next>
                                                    </FlowStep>
                                                  </FlowStep.Next>
                                                </FlowStep>
                                              </FlowStep.Next>
                                            </FlowStep>
                                          </FlowDecision.True>
                                          <FlowDecision.False>
                                            <FlowStep x:Name="__ReferenceID35" sap2010:WorkflowViewState.IdRef="FlowStep_35">
                                              <Assign DisplayName="get cargoOwbList" sap2010:WorkflowViewState.IdRef="Assign_21">
                                                <Assign.To>
                                                  <OutArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">
                                                    <mca:CSharpReference x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">cargoOwbList</mca:CSharpReference>
                                                  </OutArgument>
                                                </Assign.To>
                                                <Assign.Value>
                                                  <InArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">
                                                    <mca:CSharpValue x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">session.Query&lt;WmsCargoOWB&gt;().Where(i =&gt; i.InternalTraffic.InternalTrafficID == itId)</mca:CSharpValue>
                                                  </InArgument>
                                                </Assign.Value>
                                              </Assign>
                                              <FlowStep.Next>
                                                <FlowStep x:Name="__ReferenceID37" sap2010:WorkflowViewState.IdRef="FlowStep_34">
                                                  <ForEach x:TypeArguments="mwme:WmsCargoOWB" DisplayName="ForEach&lt;WmsCargoOWB&gt;" sap2010:WorkflowViewState.IdRef="ForEach`1_2">
                                                    <ForEach.Values>
                                                      <InArgument x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">
                                                        <mca:CSharpValue x:TypeArguments="scg:IEnumerable(mwme:WmsCargoOWB)">cargoOwbList</mca:CSharpValue>
                                                      </InArgument>
                                                    </ForEach.Values>
                                                    <ActivityAction x:TypeArguments="mwme:WmsCargoOWB">
                                                      <ActivityAction.Argument>
                                                        <DelegateInArgument x:TypeArguments="mwme:WmsCargoOWB" Name="cargo" />
                                                      </ActivityAction.Argument>
                                                      <Assign DisplayName="loadBegin" sap2010:WorkflowViewState.IdRef="Assign_22">
                                                        <Assign.To>
                                                          <OutArgument x:TypeArguments="s:Nullable(s:DateTime)">
                                                            <mca:CSharpReference x:TypeArguments="s:Nullable(s:DateTime)">cargo.CargoOWBLoadBegin</mca:CSharpReference>
                                                          </OutArgument>
                                                        </Assign.To>
                                                        <Assign.Value>
                                                          <InArgument x:TypeArguments="s:Nullable(s:DateTime)">
                                                            <mca:CSharpValue x:TypeArguments="s:Nullable(s:DateTime)">pTime</mca:CSharpValue>
                                                          </InArgument>
                                                        </Assign.Value>
                                                      </Assign>
                                                    </ActivityAction>
                                                  </ForEach>
                                                  <FlowStep.Next>
                                                    <x:Reference>__ReferenceID30</x:Reference>
                                                  </FlowStep.Next>
                                                </FlowStep>
                                              </FlowStep.Next>
                                            </FlowStep>
                                          </FlowDecision.False>
                                        </FlowDecision>
                                      </FlowStep.Next>
                                    </FlowStep>
                                  </FlowStep.Next>
                                </FlowStep>
                              </Flowchart.StartNode>
                              <x:Reference>__ReferenceID31</x:Reference>
                              <x:Reference>__ReferenceID32</x:Reference>
                              <x:Reference>__ReferenceID33</x:Reference>
                              <x:Reference>__ReferenceID34</x:Reference>
                              <x:Reference>__ReferenceID35</x:Reference>
                              <x:Reference>__ReferenceID36</x:Reference>
                              <x:Reference>__ReferenceID37</x:Reference>
                              <x:Reference>__ReferenceID30</x:Reference>
                              <x:Reference>__ReferenceID38</x:Reference>
                              <x:Reference>__ReferenceID39</x:Reference>
                              <x:Reference>__ReferenceID40</x:Reference>
                            </Flowchart>
                          </mwad:SessionScope>
                        </FlowStep>
                      </Flowchart.StartNode>
                      <x:Reference>__ReferenceID41</x:Reference>
                    </Flowchart>
                    <FlowStep.Next>
                      <FlowSwitch x:TypeArguments="x:String" x:Name="__ReferenceID49" DisplayName="Список?" sap2010:WorkflowViewState.IdRef="FlowSwitch`1_3">
                        <FlowSwitch.Default>
                          <FlowStep x:Name="__ReferenceID50" sap2010:WorkflowViewState.IdRef="FlowStep_42">
                            <Assign DisplayName="Ошибка" sap2010:WorkflowViewState.IdRef="Assign_25">
                              <Assign.To>
                                <OutArgument x:TypeArguments="x:String">
                                  <mca:CSharpReference x:TypeArguments="x:String">messageText</mca:CSharpReference>
                                </OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="x:String">
                                  <mca:CSharpValue x:TypeArguments="x:String">string.Format("Unknown ViewKind '{1}'. Can't process InternalTrafficID '{0}'", itId, ViewKind)</mca:CSharpValue>
                                </InArgument>
                              </Assign.Value>
                            </Assign>
                            <FlowStep.Next>
                              <x:Reference>__ReferenceID42</x:Reference>
                            </FlowStep.Next>
                          </FlowStep>
                        </FlowSwitch.Default>
                        <FlowSwitch.Expression>
                          <mca:CSharpValue x:TypeArguments="x:String">ViewKind</mca:CSharpValue>
                        </FlowSwitch.Expression>
                        <FlowStep x:Key="CARD" x:Name="__ReferenceID48" sap2010:WorkflowViewState.IdRef="FlowStep_41">
                          <mwac:RequestReload sap2010:WorkflowViewState.IdRef="RequestReload_1" />
                        </FlowStep>
                      </FlowSwitch>
                    </FlowStep.Next>
                  </FlowStep>
                </FlowDecision.False>
              </FlowDecision>
            </FlowStep.Next>
          </FlowStep>
        </FlowStep.Next>
      </FlowStep>
    </Flowchart.StartNode>
    <x:Reference>__ReferenceID43</x:Reference>
    <x:Reference>__ReferenceID44</x:Reference>
    <x:Reference>__ReferenceID45</x:Reference>
    <x:Reference>__ReferenceID46</x:Reference>
    <x:Reference>__ReferenceID47</x:Reference>
    <x:Reference>__ReferenceID42</x:Reference>
    <x:Reference>__ReferenceID48</x:Reference>
    <x:Reference>__ReferenceID49</x:Reference>
    <x:Reference>__ReferenceID50</x:Reference>
    <sads:DebugSymbol.Symbol>d1tEOlxNTEMuV21zLldlYkFwcFxzcmNcTUxDLldtc1xNTEMuV21zLldvcmtmbG93c1xXZl9EYXRhXENMSUVOVCRWSVNJVE9SX0FSUklWRUQkMS4wLjAuMC54YW1seFsDtQcPAgEBYTRhRQIBAmYJcRIDAZgHdA2yBBkDAewDtgQTtgR0AwHjA9kEFYUHIQIBRpwHG5wHYQIBPYoHHZUHJgIBKroEFc8EKAIBBdIEGdIETwIBBJ8HG58HYwIBA24Pbl8DAaIHaQ9pWAMBmQd6E4ABLQMBjQeDARf8AysDAe0D3AQbgQcvAgFHkgcjkge/AQIBNI0HI40HdAIBK70EG70EawIBIccEG8cEZAIBGMIEG8IEaAIBD8wEG8wEXwIBBn0ZfXoDAY4HhAEZ+wMlAwHuA90EHYAHKQIBSIkBIYkBtwEDAe8DkAEfmwEoAwHyBp4BI6cBOgMB1wa5ASm5AYgBAwHKBqwBK7UBNAMBuwbVASvVAb0CAwGuBucBLe0BPwMBoAb/ATP/AZ4BAwGTBvIBNfsBPgMBhAbRAjOWAz8DAZ0FywI5ywKaAQMBkAWCAjPHAj8DAakE2QEt4gE2AwGaBMgBKdEBMgMBiwS8ASnFATIDAfwD5QQl5QRxAgFJ6wQj8QQ1AwHUA/QEJ/8EMAMBtwODBS2DBagBAwGpA8IGL80GOAMBjAPQBjPnBj0DAd4CrwU3ugVAAwHBAr0FO8gFRAMBpALLBT/WBUgDAYcC2QVDswZPAwGiAYcFL5IFOAMBhQGVBTOsBT0CAVeYASWYAW8DAYAHkwElkwF2AwHzBqEBKaEBiwEDAeUGpQEnpQG4AQMB2AazAVazAXsDAckGrwExrwGCAQMBvAbqATPqAYIBAwGhBvkBYPkBhgEDAZIG9QE79QGMAQMBhQbXAjniAkIDAecF5gI/5gKXAQMB2QX5AkP5ArcBAwHLBf0CRYgDTgMBrgXqAkHzAkoDAZ4FiAI5kwJCAwHzBJcCP5cClwEDAeUEqgJDqgK3AQMB1wSuAkW5Ak4DAboEmwJBpAJKAwGqBOABWOABbQMBqATcATPcAYQBAwGbBM8BVM8BYAMBmQTLAS/LAYABAwGMBMMBVMMBYgMBigS/AS+/AYABAwH9A+4EKe4EeAMB1QP8BC38BMsBAwHGA/cELfcEjwEDAbgDygY1ygbpAQMBmwPFBjXFBqABAwGNA9MGOdMGnAEDAf4C2gY35QZAAwHfArcFPbcFjgEDAdACsgU9sgW7AQMBwgLFBUHFBfEBAwGzAsAFQcAFsAEDAaUC0wVF0wX6AQMBlgLOBUXOBcQBAwGIAuAFSf4FUgMB5gGBBk2HBl4DAdUBigZRnQZaAwG0AaAGVaYGZgMBowGPBTWPBekBAwGUAYoFNYoFoAEDAYYBmAU5mAWcAQIBd58FN6oFQAIBWN8CP98C8wEDAfYF2gI/2gKqAQMB6AWFA0uFA70CAwG9BYADS4ADnAEDAa8F8QJs8QKIAQMBrQXtAkftApgBAwGfBZACP5AC8wEDAYIFiwI/iwKqAQMB9AS2Aku2Ar4CAwHJBLECS7ECnAEDAbsEogJsogKIAQMBuQSeAkeeApgBAwGrBOIGPeIGjgEDAe8C3QY93QaoAQMB4ALoBU/7BSADAfcB4wVP4wWrAQMB5wGEBlOEBpwBAwHWAZIGV5oGIAMBxQGNBleNBrYBAwG1AaMGW6MGpAEDAaQBpwU9pwWOAQIBaKIFPaIFqAECAVk=</sads:DebugSymbol.Symbol>
  </Flowchart>
  <sap2010:WorkflowViewState.ViewStateManager>
    <sap2010:ViewStateManager>
      <sap2010:ViewStateData Id="Assign_1" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="DependencyResolver`1_1" sap:VirtualizedContainerService.HintSize="200,22">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_3" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="EntityLinqQuery`1_1" sap:VirtualizedContainerService.HintSize="258,88">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_4" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_10">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">39,319</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_5" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_11">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">39,499</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_6" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_12">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">379,309</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_7" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_13">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">39,649</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="SessionGet_2" sap:VirtualizedContainerService.HintSize="200,22">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_8" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_14">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">39,739</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_26" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_27" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_43">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">85.5,348.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_28" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_44">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">85.5,578.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_11" sap:VirtualizedContainerService.HintSize="115,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">251.5,456</av:Point>
            <av:Size x:Key="ShapeSize">115,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">251.5,499.5 206.5,499.5 206.5,578.5</av:PointCollection>
            <av:PointCollection x:Key="FalseConnector">586.5,499.5 616.5,499.5 616.5,708.5 776.5,708.5 776.5,738.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_12" sap:VirtualizedContainerService.HintSize="153,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">231.5,226</av:Point>
            <av:Size x:Key="ShapeSize">153,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">231.5,269.5 206.5,269.5 206.5,348.5</av:PointCollection>
            <av:PointCollection x:Key="FalseConnector">384.5,269.5 399,269.5 399,426 309,426 309,456</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_45">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">175.5,98.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">296.5,160.5 296.5,190.5 308,190.5 308,226</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_7" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <x:Double x:Key="Width">646</x:Double>
            <x:Double x:Key="Height">640.5</x:Double>
            <av:PointCollection x:Key="ConnectorLocation">300,77.5 296.5,77.5 296.5,98.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_13" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">305,1026.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">586,978.54 461,978.54 461,1007.54</av:PointCollection>
            <x:String x:Key="TrueLabel">show</x:String>
            <x:String x:Key="FalseLabel">go</x:String>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_46">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">60,904.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">160,955.5 160,985.5 340,985.5 340,1026.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_29" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_30" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_47">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">91.5,352.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_31" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_48">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">91.5,582.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_14" sap:VirtualizedContainerService.HintSize="121,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">257.5,460</av:Point>
            <av:Size x:Key="ShapeSize">121,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">257.5,503.5 212.5,503.5 212.5,582.5</av:PointCollection>
            <av:PointCollection x:Key="FalseConnector">598.5,583.5 628.5,583.5 628.5,792.5 422.5,792.5 422.5,822.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_15" sap:VirtualizedContainerService.HintSize="159,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">237.5,230</av:Point>
            <av:Size x:Key="ShapeSize">159,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">237.5,273.5 212.5,273.5 212.5,352.5</av:PointCollection>
            <av:PointCollection x:Key="FalseConnector">396.5,273.5 408,273.5 408,430 318,430 318,460</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_49">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">181.5,102.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">302.5,164.5 302.5,194.5 317,194.5 317,230</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_8" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <x:Double x:Key="Width">655</x:Double>
            <x:Double x:Key="Height">724.5</x:Double>
            <av:PointCollection x:Key="ConnectorLocation">300,77.5 300,102.5 302.5,102.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_50">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">410,908</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">510,959 510,989 340,989 340,1026.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowSwitch`1_1" sap:VirtualizedContainerService.HintSize="73,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">303.5,796.5</av:Point>
            <av:Size x:Key="ShapeSize">73,87</av:Size>
            <av:PointCollection x:Key="Default">303.5,840 160,840 160,801</av:PointCollection>
            <av:PointCollection x:Key="VISITOR_ARRIVEDConnector">275,300 140,300 140,329</av:PointCollection>
            <av:PointCollection x:Key="VISITOR_DEPARTEDConnector">345,278.25 480,278.25 480,261</av:PointCollection>
            <av:PointCollection x:Key="VISITOR_PLANConnector">310,343.5 310,373.5 312.5,373.5 312.5,416.5</av:PointCollection>
            <av:PointCollection x:Key="UnloadingConnector">303.5,861.75 160,861.75 160,904.5</av:PointCollection>
            <av:PointCollection x:Key="LoadingConnector">376.5,861.75 510,861.75 510,908</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">360,709</av:Point>
            <av:Size x:Key="ShapeSize">200,22</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">460,731 460,761 340,761 340,796.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_3" sap:VirtualizedContainerService.HintSize="95,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">285,586.5</av:Point>
            <av:Size x:Key="ShapeSize">95,87</av:Size>
            <x:String x:Key="TrueLabel">not ver</x:String>
            <x:String x:Key="FalseLabel">ver</x:String>
            <av:PointCollection x:Key="TrueConnector">285,630 160,630 160,649</av:PointCollection>
            <av:PointCollection x:Key="FalseConnector">380,630 460,630 460,709</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowSwitch`1_2" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">295,416.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="Default">295,438.25 160,438.25 160,381</av:PointCollection>
            <av:PointCollection x:Key="VISITOR_ARRIVEDConnector">295,460 160,460 160,499</av:PointCollection>
            <av:PointCollection x:Key="VISITOR_DEPARTEDConnector">365,438.25 500,438.25 500,371</av:PointCollection>
            <av:PointCollection x:Key="VISITOR_PLANConnector">330,503.5 330,533.5 332.5,533.5 332.5,586.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_15">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">202.565,197.5</av:Point>
            <av:Size x:Key="ShapeSize">258,88</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">331.565,285.5 331.565,315.5 330,315.5 330,416.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_16">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">209,107.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">330,169.5 330,197.5 331.565,197.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_13" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_23">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">219,1169</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_3" sap:VirtualizedContainerService.HintSize="635,1281">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <av:Point x:Key="ShapeLocation">300,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">330,77.5 330,107.5</av:PointCollection>
            <x:Double x:Key="Height">1245</x:Double>
            <x:Double x:Key="Width">621</x:Double>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="SessionScope_1" sap:VirtualizedContainerService.HintSize="226,148">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_4">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">187,246</av:Point>
            <av:Size x:Key="ShapeSize">226,148</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_3">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">200,119</av:Point>
            <av:Size x:Key="ShapeSize">200,22</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,141 300,246</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_2" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_2">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">179,439</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_2" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,77.5 300,119</av:PointCollection>
            <x:Double x:Key="Width">1045</x:Double>
            <x:Double x:Key="Height">2039</x:Double>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="MessageBox_1" sap:VirtualizedContainerService.HintSize="200,22">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Exit_1" sap:VirtualizedContainerService.HintSize="200,22">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_5">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">40,409</av:Point>
            <av:Size x:Key="ShapeSize">200,22</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_24">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">40,349</av:Point>
            <av:Size x:Key="ShapeSize">200,22</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">140,371 140,409</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="SessionGet_1" sap:VirtualizedContainerService.HintSize="200,22">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_16" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_15" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_17" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ForEach`1_1" sap:VirtualizedContainerService.HintSize="200,51" />
      <sap2010:ViewStateData Id="Assign_18" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_19" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_20" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_23" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="EntityAdd_1" sap:VirtualizedContainerService.HintSize="200,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_24" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="EntityAdd_2" sap:VirtualizedContainerService.HintSize="200,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_36">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">309.895,443</av:Point>
            <av:Size x:Key="ShapeSize">200,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">420,291 420,321 419.895,321 419.895,341</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_37">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">288.895,331</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">409.895,393 409.895,443</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_38">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">310,219</av:Point>
            <av:Size x:Key="ShapeSize">200,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">410,281 410,311 409.895,311 409.895,331</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_39">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">288.895,117.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">409.895,179.5 409.895,209.5 410,209.5 410,219</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_6" sap:VirtualizedContainerService.HintSize="810,636">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">380,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">410,77.5 410,107.5 409.895,107.5 409.895,117.5</av:PointCollection>
            <x:Double x:Key="Width">795.5</x:Double>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_40">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">199.895,893</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_30">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">178.895,781</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">299.895,843 299.895,893</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_31">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">179,669</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,731 300,761 299.895,761 299.895,781</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_32">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">179,569</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,631 300,669</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_33">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">30,441</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">130,492 130,522 300,522 300,569</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_27">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">9,349</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">130,411 130,441</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_21" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_22" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ForEach`1_2" sap:VirtualizedContainerService.HintSize="200,51" />
      <sap2010:ViewStateData Id="FlowStep_34">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">370,441</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">470,492 470,522 300,522 300,569</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_35">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">349,349</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">470,411 470,441</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_8" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">265,276.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="FalseConnector">335,320 470,320 470,349</av:PointCollection>
            <av:PointCollection x:Key="TrueConnector">265,320 130,320 130,349</av:PointCollection>
            <x:String x:Key="TrueLabel">unloading</x:String>
            <x:String x:Key="FalseLabel">loading</x:String>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_28">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">179,169.5</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,231.5 300,276.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_26">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">200,107.5</av:Point>
            <av:Size x:Key="ShapeSize">200,22</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,129.5 300,169.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_5" sap:VirtualizedContainerService.HintSize="614,1026">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <x:Double x:Key="Height">989.91999999999985</x:Double>
            <av:PointCollection x:Key="ConnectorLocation">300,77.5 300,107.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="SessionScope_2" sap:VirtualizedContainerService.HintSize="226,148">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_29">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">180,107.5</av:Point>
            <av:Size x:Key="ShapeSize">226,148</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_4" sap:VirtualizedContainerService.HintSize="834,1344">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,77.5 293,77.5 293,107.5</av:PointCollection>
            <x:Double x:Key="Height">1307.5</x:Double>
            <x:Double x:Key="Width">820</x:Double>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_25" sap:VirtualizedContainerService.HintSize="242,62">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_42">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">39,579</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">39,610 9,610 9,360 40,360</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="RequestReload_1" sap:VirtualizedContainerService.HintSize="200,22">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_41">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">360,749</av:Point>
            <av:Size x:Key="ShapeSize">200,22</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowSwitch`1_3" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">425,546.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="CARDConnector">460,633.5 460,749</av:PointCollection>
            <av:PointCollection x:Key="Default">425,611.75 395,611.75 395,610 281,610</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_7">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">360,444.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">460,495.5 460,546.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_1" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">265,276.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="FalseConnector">335,320 460,320 460,444.5</av:PointCollection>
            <av:PointCollection x:Key="TrueConnector">265,320 140,320 140,349</av:PointCollection>
            <x:String x:Key="TrueLabel">show</x:String>
            <x:String x:Key="FalseLabel">go</x:String>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_1">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">200,194.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,245.5 300,276.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_9">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">179,99</av:Point>
            <av:Size x:Key="ShapeSize">242,62</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,161 300,194.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_1" sap:VirtualizedContainerService.HintSize="614,807">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,77.5 300,99</av:PointCollection>
            <x:Double x:Key="Height">771</x:Double>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="MLC.Wms.Workflows.Wf_Data.VISITOR_ARRIVED_1" sap:VirtualizedContainerService.HintSize="654,887" />
    </sap2010:ViewStateManager>
  </sap2010:WorkflowViewState.ViewStateManager>
</Activity>